## MODIFIED Requirements

### Requirement: 週ナビゲーションをシフト作成期間内に制限する
システムは、週ナビゲーションの移動をシフト作成期間（開始日〜終了日）の範囲内に制限しなければならない（SHALL）。期間の端に達した場合は対応するナビゲーションボタンを無効化する。シフト表を開いた際の初期表示はシフト作成期間の開始日を含む週とする。

#### Scenario: シフト表を開くと開始週が表示される
- **WHEN** ユーザーがシフト表画面を開く
- **THEN** シフト作成期間の開始日を含む週のシフト表が表示される

#### Scenario: 開始週では「前の週」ボタンが無効化される
- **WHEN** 表示中の週がシフト作成期間の開始日を含む週である
- **THEN** 「前の週」ボタンが無効化（押せない状態）で表示される

#### Scenario: 終了週では「次の週」ボタンが無効化される
- **WHEN** 表示中の週がシフト作成期間の終了日を含む週である
- **THEN** 「次の週」ボタンが無効化（押せない状態）で表示される

#### Scenario: 期間内の中間週では両方のボタンが有効である
- **WHEN** 表示中の週がシフト作成期間の開始週でも終了週でもない
- **THEN** 「前の週」「次の週」ボタンがともに有効な状態で表示される

---

## ADDED Requirements

### Requirement: シフト表画面に「自動生成」ボタンを表示する
システムは、シフト表画面に自動シフト生成を起動するボタンを表示しなければならない（SHALL）。このボタンを押すと `auto-shift-generation` で定義された自動生成フローが開始される。

#### Scenario: 「自動生成」ボタンが表示される
- **WHEN** ユーザーがシフト表画面を開く
- **THEN** 「自動生成」ボタンがシフト表のヘッダー領域に表示される

---

### Requirement: 各日の列に必要人数の不足インジケーターを表示する
システムは、シフト表の各日付列のヘッダー部分に、その日のいずれかの時間帯でアサイン人数が必要人数を下回っている場合に不足インジケーターを表示しなければならない（SHALL）。アサイン人数が必要人数以上の場合はインジケーターを表示しない。

#### Scenario: 不足がある日の列ヘッダーに不足インジケーターが表示される
- **WHEN** ある日のいずれかの時間帯でアサイン人数が必要人数を下回っている
- **THEN** その日の列ヘッダーに不足を示すインジケーター（例：警告アイコン・不足人数の合計）が表示される

#### Scenario: すべての時間帯で必要人数を達成している日はインジケーターが表示されない
- **WHEN** ある日の全時間帯でアサイン人数が必要人数以上である
- **THEN** その日の列ヘッダーに不足インジケーターは表示されない

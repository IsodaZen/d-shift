## MODIFIED Requirements

### Requirement: 駐車場をアサイン時に自動割り当てする
システムは、駐車場利用フラグがONのスタッフがアサインされた際、以下の優先順位で駐車場枠を割り当てなければならない（SHALL）。

1. 同一スタッフが同一日にすでに駐車場枠が割り当てられているアサインが存在する場合、その既存の枠を再利用する
2. 既存の割り当てがない場合、その日の空き枠をA優先・先着順で新規割り当てする
3. 空き枠がない場合は割り当てなしとする

#### Scenario: 駐車場枠が空いている場合に自動割り当てされる
- **WHEN** 駐車場利用フラグがONのスタッフをアサインする（その日に初めてのアサイン）
- **THEN** その日に空いている駐車場枠（A優先、次にB）が自動的に割り当てられる

#### Scenario: 駐車場枠が満杯の場合は割り当てなしになる
- **WHEN** 駐車場利用フラグがONのスタッフをアサインするが、その日の全駐車場枠がすでに埋まっている
- **THEN** 駐車場番号なしでアサインが保存される

#### Scenario: 同一スタッフが同一日に複数時間帯でアサインされる場合は既存枠を再利用する
- **WHEN** 駐車場利用フラグがONのスタッフが同一日の別の時間帯にすでにアサインされており（駐車場枠が割り当て済み）、さらに別の時間帯にアサインする
- **THEN** 新たに駐車場枠を消費せず、既存のアサインと同じ駐車場枠が割り当てられる

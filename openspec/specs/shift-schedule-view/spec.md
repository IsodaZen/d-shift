# shift-schedule-view Specification

## Purpose
シフト表を週単位で表形式（行: スタッフ、列: 日付）で表示し、アサイン状況・希望休・駐車場情報を一覧できる機能。スマートフォン対応も含む。
## Requirements
### Requirement: シフト表を週単位で表示できる
システムは、指定した週のシフト表を表形式（行: スタッフ、列: 日付）で表示できなければならない（SHALL）。表示期間は7日間固定とし、週ナビゲーションで前後に移動できる。

#### Scenario: 当週のシフト表が表示される
- **WHEN** ユーザーがシフト表画面を開く
- **THEN** 当週（7日間）のシフト表が表示される

#### Scenario: 前後の週に移動できる
- **WHEN** ユーザーが「前の週」または「次の週」ボタンを押す
- **THEN** 表示期間が1週間分前後に移動したシフト表が表示される

---

### Requirement: 各セルに時間帯の割り当てを表示できる
システムは、シフト表の各セル（スタッフ×日付）に割り当てられた時間帯（午前/午後/夕方）をバッジ形式で表示できなければならない（SHALL）。

#### Scenario: 割り当て済みの時間帯がバッジで表示される
- **WHEN** あるスタッフの特定の日に時間帯が割り当てられている
- **THEN** そのセルに対応する時間帯バッジ（例：「午前」「夕方」）が表示される

#### Scenario: 割り当てがない場合は空白で表示される
- **WHEN** あるスタッフの特定の日に割り当てがない
- **THEN** そのセルは空白で表示される

---

### Requirement: 希望休を色付きで表示できる
システムは、希望休が登録されているセルを視覚的に区別できるよう色付きで表示できなければならない（SHALL）。

#### Scenario: 希望休のセルがハイライト表示される
- **WHEN** 特定のスタッフの特定の日に希望休が登録されている
- **THEN** そのセルが希望休を示す色（例：黄色）でハイライト表示される

---

### Requirement: 駐車場の割り当て番号を表示できる
システムは、シフトが割り当てられたスタッフのうち駐車場を利用するスタッフに対して、駐車場種別と番号（例：A1、B1）をセル内に表示できなければならない（SHALL）。

#### Scenario: 駐車場を利用するスタッフに番号が表示される
- **WHEN** 駐車場利用フラグがONのスタッフにシフトが割り当てられている
- **THEN** そのセルに駐車場番号（例：「A1」）が表示される

#### Scenario: 駐車場を利用しないスタッフには番号が表示されない
- **WHEN** 駐車場利用フラグがOFFのスタッフにシフトが割り当てられている
- **THEN** そのセルに駐車場番号は表示されない

---

### Requirement: スマートフォンで快適に閲覧できる
システムは、スマートフォン（画面幅360px以上）で横スクロールを使って全日程を閲覧できなければならない（SHALL）。

#### Scenario: 横スクロールでシフト表全体を閲覧できる
- **WHEN** ユーザーがスマートフォンでシフト表画面を開く
- **THEN** テーブルが横スクロール可能な形式で表示され、スタッフ列は固定表示される

### Requirement: シフト表画面に「自動生成」ボタンを表示する
システムは、シフト表画面に自動シフト生成を起動するボタンを表示しなければならない（SHALL）。このボタンを押すと `auto-shift-generation` で定義された自動生成フローが開始される。

#### Scenario: 「自動生成」ボタンが表示される
- **WHEN** ユーザーがシフト表画面を開く
- **THEN** 「自動生成」ボタンがシフト表のヘッダー領域に表示される

---

### Requirement: 各日の列に必要人数の不足インジケーターを表示する
システムは、シフト表の各日付列のヘッダー部分に、その日のいずれかの時間帯でアサイン人数が必要人数を下回っている場合に不足インジケーターを表示しなければならない（SHALL）。アサイン人数が必要人数以上の場合はインジケーターを表示しない。

#### Scenario: 不足がある日の列ヘッダーに不足インジケーターが表示される
- **WHEN** ある日のいずれかの時間帯でアサイン人数が必要人数を下回っている
- **THEN** その日の列ヘッダーに不足を示すインジケーター（例：警告アイコン・不足人数の合計）が表示される

#### Scenario: すべての時間帯で必要人数を達成している日はインジケーターが表示されない
- **WHEN** ある日の全時間帯でアサイン人数が必要人数以上である
- **THEN** その日の列ヘッダーに不足インジケーターは表示されない

